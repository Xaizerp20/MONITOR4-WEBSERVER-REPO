(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"./bundles/sf-heatmap.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-heatmap.js")},"./modules/sf-heatmap.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.HeatMap=function(){"use strict";var e=function(){function e(e,t){this.isSelectionRectCreated=!1,this.mouseClick=!1,this.checkCtrlKey=!1,this.tooltipRender=!0,this.isCellTapHold=!1,this.rect=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.resizeTimer=0,this.previousCellID="",window.sfBlazor=window.sfBlazor,this.element=e,this.dataId=e.id,window.sfBlazor.setCompInstance(this),this.dotnetRef=t}return e.prototype.initialize=function(e){var t=this;this.enableMultiSelect=e.EnableMultiSelect,this.allowSelection=e.AllowSelection,this.isRectType=e.IsRectType;var i=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.add(this.element,"click touchend",this.heatMapMouseClick,this),sf.base.EventHandler.add(this.element,"mousedown touchstart",this.heatMapMouseDown,this),sf.base.EventHandler.add(this.element,"mouseup touchend",this.heatMapMouseUp,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove,this),sf.base.EventHandler.add(this.element,i,this.heatMapMouseLeave,this),sf.base.EventHandler.add(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove,this);var o=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.add(window,o,this.resizeBound.bind(this),this);var s=this.getElementBounds(this.element);return this.touchInstance=new sf.base.Touch(this.element,{tapHold:function(e){t.isCellTapHold=!0,t.isSelectionRectCreated=!0,t.cellTap(e)}}),"width:"+s.width+", height:"+s.height+", parentHeight:"+s.parentHeight},e.prototype.cellTap=function(e){this.allowSelection&&this.dotnetRef.invokeMethodAsync("HeatMapMouseClick",this.getEventArgs(e.originalEvent),this.getElementBounds(this.element),this.isCellTapHold,this.isSelectionRectCreated)},e.prototype.heatMapMouseClick=function(e){this.dotnetRef.invokeMethodAsync("HeatMapMouseClick",this.getEventArgs(e),this.getElementBounds(this.element),this.isCellTapHold,this.isSelectionRectCreated),this.isSelectionRectCreated=!1},e.prototype.heatMapMouseUp=function(e){this.startRectValue=null;var t=document.getElementById(this.element.id+"_selectedCells"),i=null;t&&(this.mouseClick=!1,i=t.getBoundingClientRect(),t.remove(),this.isSelectionRectCreated&&!e.ctrlKey&&"touchend"===e.type&&(this.isCellTapHold=!0)),"touchend"===e.type&&this.tooltipfadeOut(e),this.tooltipRender=!0,this.initialX!=(e.changedTouches?e.changedTouches[0].clientX:e.clientX)&&null==i||"touchend"==e.type&&this.isCellTapHold?this.isCellTapHold=!0:this.isCellTapHold=!1,this.allowSelection&&this.isRectType&&this.dotnetRef.invokeMethodAsync("HeatMapMouseUp",this.getEventArgs(e),i,this.getElementBounds(this.element),this.isCellTapHold,this.checkCtrlKey)},e.prototype.heatMapMouseDown=function(e){if(this.allowSelection&&this.isRectType&&(-1!=e.target.id.indexOf(this.element.id+"_HeatMapRect_")||-1!=e.target.id.indexOf(this.element.id+"_HeatMapRectLabels_"))){""!=this.previousCellID&&"touchstart"!=e.type&&"touchmove"!=e.type&&this.selectionHighLight(e.target.id),this.mouseClick=!0,this.initialX=e.changedTouches?e.changedTouches[0].clientX:e.clientX,this.initialY=e.changedTouches?e.changedTouches[0].clientY:e.clientX;var t=void 0;null!=document.querySelector("#selectedCellStyles")&&0!=document.querySelector("#selectedCellStyles").length?(t=document.getElementById("selectedCellStyles")).innerHTML=".selectedCell {opacity: 0.3;}":((t=document.createElement("style")).id="selectedCellStyles",t.innerHTML=".selectedCell {opacity: 0.3;}"),document.body.appendChild(t)}},e.prototype.heatMapMouseLeave=function(e){var t=document.getElementById(this.element.id+"_selectedCells"),i=null;this.mouseClick&&(this.previousCellID=""),t&&(i=t.getBoundingClientRect(),t.remove(),this.startRectValue=null,this.mouseClick=!1),this.tooltipRender=!0,this.initialX=null,this.initialY=null,this.dotnetRef.invokeMethodAsync("HeatMapMouseLeave",this.getEventArgs(e),i,this.getElementBounds(this.element),this.isCellTapHold,this.checkCtrlKey)},e.prototype.heatMapMouseMove=function(e){var t=!0;if("touchstart"!=e.type&&"touchmove"!=e.type||e.preventDefault(),this.allowSelection&&this.enableMultiSelect&&this.isRectType&&!sf.base.isNullOrUndefined(this.initialX)&&!sf.base.isNullOrUndefined(this.initialY)&&this.mouseClick){var i=this.getEventArgs(e),o=0,s=0,l=void 0,n=void 0;"touchstart"===i.type||"touchmove"===i.type?(l=i.changedTouches.clientX,n=i.changedTouches.clientY):(l=i.clientX,n=i.clientY);var a=this.getElementBounds(document.getElementById(this.element.id+"_Container_RectGroup"));if(this.initialX>a.left&&this.initialY>a.top){var r=document.getElementById(this.element.id+"_svg").getBoundingClientRect();sf.base.isNullOrUndefined(this.startRectValue)&&(this.startRectValue=this.svgPoint(this.svg,l,n),this.checkCtrlKey=e.ctrlKey);var h=this.svgPoint(this.svg,l,n);if(h.x<a.right&&h.x>a.left&&h.y<a.bottom&&h.y>a.top&&(s=Math.abs((h.x<a.right?h.x:a.right)-this.startRectValue.x),o=Math.abs((h.y<a.bottom?h.y:a.bottom)-this.startRectValue.y),h.x=h.x>this.startRectValue.x?this.startRectValue.x:h.x,h.y=h.y>this.startRectValue.y?this.startRectValue.y:h.y,"touchstart"!==i.type&&"touchmove"!==i.type||(this.tooltipRender=!0,this.tooltipfadeOut(e)),this.enableMultiSelect&&(h.x=h.x-r.x,h.y=h.y-r.y,this.rect.setAttributeNS(null,"x",h.x.toString()),this.rect.setAttributeNS(null,"y",h.y.toString()),this.rect.setAttributeNS(null,"id",this.element.id+"_selectedCells"),this.rect.setAttributeNS(null,"width",s.toString()),this.rect.setAttributeNS(null,"height",o.toString()),this.rect.setAttributeNS(null,"fill","#87ceeb"),this.rect.setAttributeNS(null,"stroke-dasharray","0"),this.rect.setAttributeNS(null,"opacity","0.5"),this.rect.setAttributeNS(null,"stroke","#0000ff"),document.getElementById(this.element.id+"_Container_RectGroup").appendChild(this.rect),s>0||o>0))){this.isSelectionRectCreated=!0,this.tooltipRender=!1;var d=document.getElementById(this.element.id+"_tooltip_svg");if(d&&d.remove(),t=!1,!e.ctrlKey&&(-1!=e.target.id.indexOf(this.element.id+"_HeatMapRect_")||-1!=e.target.id.indexOf(this.element.id+"_HeatMapRectLabels_"))){""!=this.previousCellID&&this.selectionHighLight(e.target.id);for(var c=document.getElementById(this.element.id+"_Container_RectGroup"),u=document.getElementById(this.element.id+"_Container_TextGroup"),p=0;p<c.childNodes.length;p++){var m=c.childNodes[p];!sf.base.isNullOrUndefined(m.id)&&m.id.indexOf("HeatMapRect")>-1&&m.classList.add("selectedCell")}for(p=0;p<u.childNodes.length;p++){m=u.childNodes[p];!sf.base.isNullOrUndefined(m.id)&&m.id.indexOf("_HeatMapRectLabels_")>-1&&(m.removeAttribute("opacity"),m.setAttribute("style","opacity:0.3"),m.classList.add("selectedCell"))}}}}}!this.allowSelection||this.enableMultiSelect||!this.mouseClick||"touchmove"!=e.type&&"mousemove"!=e.type||""!=this.previousCellID&&"0.3"==document.getElementById(this.previousCellID).getAttribute("opacity")&&(this.previousCellID=""),this.dotnetRef.invokeMethodAsync("HeatMapMouseMove",this.getEventArgs(e),this.getElementBounds(this.element),t,sf.base.Browser.isDevice)},e.prototype.svgPoint=function(e,t,i){var o=this.svg.createSVGPoint();return o.x=t,o.y=i,e.getScreenCTM()?o.matrixTransform(e.getScreenCTM().inverse()):o},e.prototype.selectionHighLight=function(e){if(-1!=e.indexOf(this.element.id+"_HeatMapRectLabels_")){var t=e.replace(this.element.id+"_HeatMapRectLabels_",this.element.id+"_HeatMapRect_"),i=parseInt(t.split("_")[2]);i++;var o=t.slice(0,t.lastIndexOf("_")+1)+i.toString();this.previousCellID=o,document.getElementById(this.previousCellID)&&this.setOpacity(document.getElementById(this.previousCellID),"1")}else document.getElementById(this.previousCellID)&&this.setOpacity(document.getElementById(this.previousCellID),"1"),this.previousCellID=e},e.prototype.tooltipfadeOut=function(e){var t=this;if(this.tooltipTimer&&(window.clearTimeout(this.tooltipTimer),this.tooltipTimer=null),"touchstart"===e.type||"touchend"===e.type){var i=window.sfBlazor.getCompInstance(this.element.id);this.tooltipTimer=setTimeout((function(){sf.base.isNullOrUndefined(i.tooltip)||sf.base.isNullOrUndefined(i.tooltip.element)||sf.base.isNullOrUndefined(i.tooltip.element.firstElementChild)||i.tooltip.fadeOut(),t.dotnetRef.invokeMethodAsync("RemoveTooltip",!0,e.target.id),""!=t.previousCellID&&(t.previousCellID=""),t.selectionHighLight(e.target.id),window.clearTimeout(t.tooltipTimer),t.tooltipTimer=null}),1500),e&&"touchmove"===e.type&&e.preventDefault()}},e.prototype.resizeBound=function(){var e,t,i,o=this;if(!sf.base.isNullOrUndefined(this.element)&&!sf.base.isNullOrUndefined(document.getElementById(this.element.id+"_svg"))){var s=document.getElementById(this.element.id+"_svg");s.style.display="none";var l=this.getElementBounds(this.element);e=l.width,t=l.height,i=l.parentHeight,s.style.removeProperty("display")}this.previousHeight===t&&this.previousWidth===e||(this.previousHeight=t,this.previousWidth=e,this.resizeTimer&&clearTimeout(this.resizeTimer),this.element&&(this.resizeTimer=setTimeout((function(){return o.dotnetRef.invokeMethodAsync("ResizeBound",t,e,i)}),500)))},e.prototype.setMouseXY=function(e,t,i){var o=document.getElementById(i).getBoundingClientRect(),s=document.getElementById(i).getBoundingClientRect();this.mouseY=t-s.top-Math.max(o.top-s.top,0),this.mouseX=e-s.left-Math.max(o.left-s.left,0)},e.prototype.renderTooltip=function(e,t,i,o,s,l,n,a,r,h,d,c,u){if(this.tooltipRender){var p=document.getElementById(t+"_svg"),m=!(p&&parseInt(p.getAttribute("opacity"),10)>0),f="string"==typeof i?JSON.parse(i):i;n||l||this.updateCellHighlight(i.id,s),sf.base.isNullOrUndefined(u)||(f.inverted=!u,f.enableAnimation=!1),d&&"TailwindDark"==d&&(f.fill="#F9FAFB"),d&&"Bootstrap5Dark"==d&&(f.fill="#E9ECEF");var y=window.sfBlazor.getCompInstance(e);f.content=f.xLabel+f.yLabel+f.value,m&&!sf.base.isNullOrUndefined(y)&&(f.content=f.displayText,f.location={x:f.x+f.width/2,y:f.y+f.height/2},f.areaBounds={height:o.height+o.y,width:o.width,x:o.x},f.opacity="Tailwind"==d||"TailwindDark"===d||"Bootstrap5"===d||"Bootstrap5Dark"===d?1:.75,f.theme=d,f.fill=r,f.header=c,y.tooltip=new sf.svgbase.Tooltip(f),y.tooltip.border.width=sf.base.isNullOrUndefined(h)?y.tooltip.border.width:h.width,y.tooltip.border.color=sf.base.isNullOrUndefined(h)?y.tooltip.border.color:h.color,y.tooltip.appendTo("#"+t)),sf.base.isNullOrUndefined(y.tooltip)||(sf.base.isNullOrUndefined(a)||(y.tooltip.textStyle.color=a.color||y.tooltip.textStyle.color,y.tooltip.textStyle.fontFamily=a.fontFamily||y.tooltip.textStyle.fontFamily,y.tooltip.textStyle.fontStyle=a.fontStyle||y.tooltip.textStyle.fontStyle,y.tooltip.textStyle.fontWeight=a.fontWeight||y.tooltip.textStyle.fontWeight,y.tooltip.textStyle.size=a.size||y.tooltip.textStyle.size),d&&"Tailwind"==d&&(y.tooltip.textStyle.color="#FFFFFF",y.tooltip.textStyle.fontWeight="500",y.tooltip.textStyle.size="12px",y.tooltip.textStyle.fontFamily="Inter"),d&&"TailwindDark"==d&&(y.tooltip.textStyle.color="#1F2937",y.tooltip.textStyle.fontWeight="500",y.tooltip.textStyle.size="12px",y.tooltip.textStyle.fontFamily="Inter"),d&&"Bootstrap5"==d&&(y.tooltip.border.width=0,y.tooltip.border.color="",y.tooltip.fill="",y.tooltip.opacity=.75,y.tooltip.textStyle.opacity=1,y.tooltip.textStyle.color=null,y.tooltip.textStyle.fontWeight="Normal",y.tooltip.textStyle.size="13px",y.tooltip.textStyle.fontFamily="Segoe UI"),d&&"Bootstrap5Dark"==d&&(y.tooltip.textStyle.color="#212529",y.tooltip.textStyle.fontWeight="500",y.tooltip.textStyle.size="14px",y.tooltip.textStyle.fontFamily="system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'"),d&&"Material3"==d&&(y.tooltip.textStyle.color="#F4EFF4",y.tooltip.textStyle.fontWeight="400",y.tooltip.textStyle.size="14px",y.tooltip.textStyle.fontFamily="Roboto"),d&&"Material3Dark"==d&&(y.tooltip.textStyle.color="#313033",y.tooltip.textStyle.fontWeight="400",y.tooltip.textStyle.size="14px",y.tooltip.textStyle.fontFamily="Roboto"),f.toolTipX=f.x+f.width/2,f.toolTipY=f.y+f.height/2,f.content=f.displayText,y.tooltip.location=new sf.svgbase.TooltipLocation(f.toolTipX,f.toolTipY),y.tooltip.content=[f.content],y.tooltip.dataBind())}},e.prototype.removeOpacity=function(e,t){for(var i=0;i<t.length;i++){var o=t[i];if(!sf.base.isNullOrUndefined(o.id)&&o.id.indexOf("HeatMapRect")>-1){document.getElementById(o.id).classList.remove("selectedCell");var s=parseInt(o.id.replace(e+"_HeatMapRect_",""),10),l=document.getElementById(e+"_HeatMapRectLabels_"+(s-1));l.classList.remove("selectedCell"),l.setAttribute("style","opacity: 1")}}},e.prototype.setSelectionProperty=function(e,t,i){this.allowSelection=e,this.enableMultiSelect=t,this.isRectType=i},e.prototype.updateCellHighlight=function(e,t){this.previousCellID!==e&&(""!=this.previousCellID&&this.setOpacity(document.getElementById(this.previousCellID),"1"),t&&(this.setOpacity(document.getElementById(e),"0.65"),this.previousCellID=e))},e.prototype.setOpacity=function(e,t){e.setAttribute("opacity",t)},e.prototype.getElementBounds=function(e){var t=this.stringToNumber(this.width,e.offsetWidth)||e.offsetWidth||600,i=this.stringToNumber(this.height,e.offsetHeight)||450,o=e.getBoundingClientRect();return{width:t,height:i,parentHeight:e.parentElement?e.parentElement.offsetHeight:i,left:Math.ceil(o.left),top:Math.ceil(o.top),right:Math.ceil(o.right),bottom:Math.ceil(o.bottom)}},e.prototype.stringToNumber=function(e,t){return sf.base.isNullOrUndefined(e)?null:-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10)},e.prototype.getEventArgs=function(e){var t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,i=e.changedTouches?e.changedTouches[0].clientY:e.clientY,o=sf.base.isNullOrUndefined(e.currentTarget)?e.target.id:e.currentTarget.id;this.setMouseXY(t,i,o);var s=e.touches,l=[];if(e.type.indexOf("touch")>-1)for(var n=0,a=s.length;n<a;n++)l.push({pageX:s[n].clientX,pageY:s[n].clientY,pointerId:e.pointerId||0});var r=e.type.indexOf("touchend")>-1&&!sf.base.isNullOrUndefined(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY))?document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY).id:e.target.id;return{type:e.type,clientX:e.clientX,clientY:e.clientY,mouseX:this.mouseX,mouseY:this.mouseY,pointerType:e.pointerType,target:r,changedTouches:{clientX:e.changedTouches?e.changedTouches[0].clientX:0,clientY:e.changedTouches?e.changedTouches[0].clientY:0},touches:l,pointerId:e.pointerId,ctrlKey:e.ctrlKey}},e.prototype.destroy=function(){var e=sf.base.Browser.isPointer?"pointerleave":"mouseleave";sf.base.EventHandler.remove(this.element,"click",this.heatMapMouseClick),sf.base.EventHandler.remove(this.element,"mousedown touchstart",this.heatMapMouseDown),sf.base.EventHandler.remove(this.element,"mouseup touchend",this.heatMapMouseUp),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchStartEvent,this.heatMapMouseMove),sf.base.EventHandler.remove(this.element,e,this.heatMapMouseLeave),sf.base.EventHandler.remove(this.element,sf.base.Browser.touchMoveEvent,this.heatMapMouseMove);var t=sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize";sf.base.EventHandler.remove(window,t,this.resizeBound.bind(this)),this.element=null,this.svg=null,this.startRectValue=null,this.touchInstance.destroy(),this.touchInstance=null,this.svg=null},e}();return{initialize:function(t,i,o){new e(t,i);var s=window.sfBlazor.getCompInstance(t.id);return s?s.initialize(o):null},removeOpacity:function(e,t){var i=window.sfBlazor.getCompInstance(e);i&&i.element&&i.removeOpacity(e,t)},setSelectionProperty:function(e,t,i,o){var s=window.sfBlazor.getCompInstance(e);s&&s.element&&s.setSelectionProperty(t,i,o)},renderTooltip:function(e,t,i,o,s,l,n,a,r,h,d,c,u,p){var m=window.sfBlazor.getCompInstance(e);m&&m.element&&m.renderTooltip(e,t,o,s,l,n,a,r,h,d,c,u,p)},fadeOut:function(e,t,i){var o=window.sfBlazor.getCompInstance(e);if(o&&o.element){if(sf.base.isNullOrUndefined(o)||!sf.base.isNullOrUndefined(o)&&sf.base.isNullOrUndefined(o.tooltip))return;var s=document.getElementById(o.dataId+"_tooltip_svg");""==o.previousCellID||t||(document.getElementById(o.previousCellID)&&o.setOpacity(document.getElementById(o.previousCellID),"1"),o.previousCellID=""),i||s&&o.tooltip.fadeOut()}},destroy:function(e){var t=window.sfBlazor.getCompInstance(e);t.element&&t&&t.destroy()}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=22.1.undefined`).then(()=>{sfBlazor.loadDependencies('sfheatmap');})})();